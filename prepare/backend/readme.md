# 백엔드 노드 서버 구축하기

# 1. 노드로 서버 구동하기

- node는 v8 엔진을 사용한 자바스크립트 런타임이다. (노드 자체가 서버라는 뜻이 아니다.)
- 런타임이란 자바스크립트 코드를 실행할 수 있도록 도와주는 것을 말한다.
- node 환경에서 app.js를 실행하는 순간 노드 런타임이 코드를 실행해서 app.js에 입력한 http가 서버 역할을 한다.
- backend 서버에서는 우리가 front에서 만들었던 axios.post('/')를 통해 보내지는 주소들이 backend 서버이다.
- 쉽게 말해 프론트서버에서 넘어오는 요청들(req, request)를 백엔드 서버에서 받아주고 요청에 따라 처리된 결과를 (res,response) 다시 프론트에 보내주는 것이 일반적인 흐름이다.
- 한 번 요청에 따른 한 번 응답이 기본적인 프로세스이며, 요청이 왔을 때 응답을 하지 않을 경우 브라우저에서 일정시간(30초) 후에 자동으로 실패 응답을 보내게 된다.

```js
axios.post('/post', postData, {
  withCredentials: true,
});

- 위 코드에서 `/post`로 불려지는 부분(주소)이 백엔드 서버이다.
```

- 프론트 서버와 백엔드 서버를 나누는 가장 큰 이유는 대규모 앱이 되었을 때를 대비하기 위해서이다.
- 서버 한 곳에 프론트와 백을 모두 담을 경우 프론트가 하는 SSR(서버사이드렌더링), 백이 하는 API 를 모두 다뤄야 한다.
- 따라서 사용자가 증가하거나, 요청 사항이 증가하면 더이상 한 서버에서 이 둘을 모두 감당하기 힘든 트레픽이 발생할 수 있다.
- 또한, 요청 사항이 증가할 때 이러한 트래픽을 나눠주기 위해 스케일링을 사용한다. (스케일링은 서버를 통째로 복사하는 기능)
- 하지만, 프론트와 백엔드 서버거 한 서버에 저장되어 있을 때, 프론트 서버의 트래픽때문에 스케일링을 하더라도 백엔드 서버까지 불필요하게 생기게 된다.
- 따라서 프론트 서버와 백엔드 서버를 따로 관리하고 상황에 따라 해당 서버에 맞춰 스케일링을 해주는 유동적인 자세가 필요하다.

```
  ex)
  - 배달의 민족의 경우 피크타임 때 주문에 관련된 요청이 많이 오기 때문에 주문 관련된 서버를 업스케일링하려 할 때, 백엔드 기준 한 서버에서 모든 api를 관리할 경우 주문에 불필요한 `상품 등록` 과 같은 기능들이 스케일링될 필요는 없기 때문이다.
  - 따라서, 스케일링이 필요한 부분에 따라 서버를 따로 구성하는 자세가 필요하다.
```
